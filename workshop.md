# 1. EE Objects and Methods
```js
// =================================================================================
// TODO 1: การสร้าง Object ของ Earth Engine
// ในส่วนนี้ เราจะเรียนรู้วิธีการสร้าง Object พื้นฐานใน Earth Engine
// เช่น Geometry ซึ่งเป็นตัวแทนของพื้นที่บนแผนที่
// =================================================================================

// สร้าง Object ประเภทรูปหลายเหลี่ยม (Polygon) จากพิกัดที่กำหนด
// พิกัดอยู่ในรูปแบบ [ลองจิจูด, ละติจูด]

var geometry = ee.Geometry.Polygon([
  [
    [99.74963537611364, 17.112622728755497],
    [99.74963537611364, 16.753273777391442],
    [100.12022667481904, 16.753273777391442],
    [100.12022667481904, 17.112622728755497],
    [99.74963537611364, 17.112622728755497]
  ]
]);

print('Geometry:', geometry);

// =================================================================================
// TODO 2: การสร้าง Feature และการกำหนดคุณสมบัติ (Properties)
// Feature คือ Geometry ที่มีข้อมูลคุณสมบัติแนบไปด้วย
// เราสามารถเพิ่มข้อมูลต่างๆ เช่น ชื่อ, รหัสพื้นที่, หรือค่าที่วัดได้
// =================================================================================

// สร้าง Feature จาก 'geometry' ที่เราสร้างไว้ก่อนหน้า
// พร้อมกับกำหนดคุณสมบัติ (property) 'name' ให้มีค่าเป็น 'Sukhothai'

// var feature = ee.Feature(geometry, {
//   name: 'Sukhothai Extent',
//   household: 389,
//   population: 3500,
//   elevation: 45
// });

// แสดงผลข้อมูล Feature ในหน้าต่าง Console
// print('Feature:', feature);


// =================================================================================
// TODO 3: การเรียกใช้ Method ของ Object และการแปลงหน่วย
// Object ใน Earth Engine มีฟังก์ชัน (Method) ที่เราสามารถเรียกใช้เพื่อประมวลผลได้
// ตัวอย่างเช่น การคำนวณพื้นที่ของ Geometry และการแปลงหน่วยพื้นที่
// =================================================================================

// เรียกใช้ method .geometry() เพื่อเข้าถึงรูปทรงของ feature
// จากนั้นเรียก .area() เพื่อคำนวณพื้นที่ (หน่วยพื้นฐานคือตารางเมตร)
// var area_sqm = feature.geometry().area();

// แปลงหน่วยจากตารางเมตรเป็นตารางกิโลเมตร (1 ตร.กม. = 1,000,000 ตร.ม.)
// var area_sqkm = area_sqm.divide(1000 * 1000);

// แปลงหน่วยจากตารางเมตรเป็นไร่ (1 ไร่ = 1,600 ตร.ม.)
// var area_rai = area_sqm.divide(1600);

// แสดงผลค่าพื้นที่ที่คำนวณได้ในหน่วยต่างๆ ที่หน้าต่าง Console
// print('Area (square meters):', area_sqm);
// print('Area (square kilometers):', area_sqkm);
// print('Area (Rai):', area_rai);


// =================================================================================
// TODO 4: การจัดการการแสดงผลบนแผนที่ (Map)
// เราสามารถควบคุมการแสดงผลบนแผนที่ได้ เช่น การซูมไปยังพื้นที่ที่สนใจ
// และการเพิ่มชั้นข้อมูล (Layer) เพื่อแสดงผล Object ของเรา
// =================================================================================

// สั่งให้แผนที่ซูมไปยังศูนย์กลางของ 'feature' ด้วยระดับการซูมที่ 10
// Map.centerObject(feature, 10);

// เพิ่ม 'feature' ของเราลงบนแผนที่ให้เป็นชั้นข้อมูลใหม่
// พร้อมกำหนดค่าการแสดงผล เช่น สีของพื้นที่
// และตั้งชื่อ Layer ว่า 'Sukhothai Extent'
// Map.addLayer(feature, {
//   color: 'red'
// }, 'Sukhothai Extent');

```
----

# 2. Earth Engine objects for image and image collection
## 2.1 ImageCollection
```js
// =================================================================================
// TODO 1: สร้างและกรองชุดข้อมูลภาพ (ImageCollection)
// ในส่วนนี้ เราจะเรียนรู้การทำงานกับชุดข้อมูลภาพถ่ายดาวเทียมหลายๆ ภาพ
// =================================================================================

// 1.1 สร้าง Object ประเภท ImageCollection จากชุดข้อมูล Landsat 9
// และกรองข้อมูล (filter) เฉพาะภาพที่ถ่ายในช่วงวันที่ 1 ม.ค. - 31 มี.ค. 2024
var dataset = ee.ImageCollection('LANDSAT/LC09/C02/T1_TOA')
  .filterDate('2024-01-01', '2024-03-31');


// =================================================================================
// TODO 2: เตรียมข้อมูลสำหรับการแสดงผล
// หลังจากได้ชุดข้อมูลที่กรองแล้ว เราจะเลือกแบนด์และตั้งค่าการแสดงผล
// =================================================================================

// 2.1 เลือกแบนด์ที่ต้องการแสดงผล (B4=Red, B3=Green, B2=Blue) จากทุกภาพใน Collection
// var trueColor432 = dataset.select(['B4', 'B3', 'B2']);

// 2.2 กำหนดค่าพารามิเตอร์สำหรับการแสดงผล (Visualization Parameters)
// เพื่อปรับความสว่างและความคมชัดของภาพ
// var trueColor432Vis = {
//   min: 0.0,
//   max: 0.4,
// };


// =================================================================================
// TODO 3: แสดงผลลัพธ์บนแผนที่
// ขั้นตอนสุดท้ายคือการกำหนดมุมมองและเพิ่มชั้นข้อมูล (Layer) ลงบนแผนที่
// =================================================================================

// 3.1 กำหนดจุดศูนย์กลางและระดับการซูมของแผนที่
// Map.setCenter(99.9109, 16.9294, 9);

// 3.2 เพิ่ม Layer ของ ImageCollection ที่ผ่านการกรองและเลือกแบนด์แล้ว
// GEE จะทำการรวมภาพ (mosaic) ที่ดีที่สุดในช่วงเวลาที่เราเลือกมาแสดงผลโดยอัตโนมัติ
// Map.addLayer(trueColor432, trueColor432Vis, 'True Color (432)');

```
---
## 2.2 Image
```js
// =================================================================================
// TODO 1: กำหนดเงื่อนไขการค้นหาภาพถ่ายดาวเทียม
// ในส่วนนี้ เราจะกำหนดค่าต่างๆ เพื่อใช้ในการกรองข้อมูล
// =================================================================================

// 1.1 ระบุ Path และ Row ของพื้นที่ที่สนใจ
var path = 130;
var row = 48;

// 1.2 ระบุช่วงวันที่ที่ต้องการ
var startDate = '2024-01-01';
var endDate = '2024-03-31';

// 1.3 กำหนดเปอร์เซ็นต์เมฆสูงสุดที่ยอมรับได้
var maxCloudCover = 10;


// =================================================================================
// TODO 2: ค้นหาและกรองชุดข้อมูลภาพ (ImageCollection) ตามเงื่อนไข
// เราจะใช้เงื่อนไขจาก TODO 1 มากรองชุดข้อมูล Landsat 9
// =================================================================================

// 2.1 กรอง Image Collection ตาม Path, Row, ช่วงเวลา, และเปอร์เซ็นต์เมฆ
var filteredCollection = ee.ImageCollection('LANDSAT/LC09/C02/T1_TOA')
  .filter(ee.Filter.eq('WRS_PATH', path))                   // กรองตาม Path
  .filter(ee.Filter.eq('WRS_ROW', row))                     // กรองตาม Row
  .filterDate(startDate, endDate)                           // กรองตามช่วงเวลา
  .filter(ee.Filter.lt('CLOUD_COVER', maxCloudCover));      // กรองภาพที่มีเมฆน้อยกว่า 10%

// 2.2 พิมพ์ผลลัพธ์เพื่อตรวจสอบว่ามีภาพที่ตรงตามเงื่อนไขหรือไม่
// print('Collection ที่กรองแล้ว:', filteredCollection);

// 2.3 แสดงผลภาพทั้งหมดที่ผ่านการกรองบนแผนที่
// Map.addLayer(filteredCollection, {
//   bands: ['B4', 'B3', 'B2'],
//   max: 0.3
// }, 'Filtered Collection');


// =================================================================================
// TODO 3: เลือกภาพที่ดีที่สุดและดึงข้อมูล ID
// จาก Collection ที่กรองแล้ว เราจะเลือกมา 1 ภาพ (ภาพแรกสุด) เพื่อนำไปใช้งานต่อ
// =================================================================================

// 3.1 ดึงภาพแรก (ที่ดีที่สุด) ออกมาจาก Collection
// var firstImage = filteredCollection.first();

// 3.2 ดึงเอาเฉพาะ ID ของภาพนั้นออกมา
// var imageId = firstImage.id();

// 3.3 พิมพ์ ID ออกมาดูใน Console
// print('ID ของภาพแรกที่พบ:', imageId);


// =================================================================================
// TODO 4: การจัดการข้อมูลภาพเดี่ยว (ee.Image) โดยใช้ ID ที่ได้มา
// นำ ID ที่ได้จากขั้นตอนที่แล้ว มาสร้างเป็น Object ภาพเดี่ยวเพื่อวิเคราะห์ต่อ
// =================================================================================

// 4.1 สร้าง Object ประเภท Image โดยอ้างอิงจาก ID ที่เราค้นหามาได้
// var imageFromId = ee.Image('LANDSAT/LC09/C02/T1_TOA/LC09_130048_20240213');

// --- การเรียกใช้ Method ของ Object ประเภท Image ---
// 4.2 นับจำนวนแบนด์ทั้งหมดในภาพ
// var bandCount = imageFromId.bandNames().length();
// print('Band count:', bandCount);

// 4.3 ตรวจสอบชื่อแบนด์ทั้งหมดที่มีในภาพ
// var bandNames = imageFromId.bandNames();
// print('Band names:', bandNames);

// --- การแสดงผลบนแผนที่ ---

// 4.4 ซูมแผนที่ไปยังตำแหน่งของภาพ
// Map.centerObject(imageFromId, 9);

// 4.5 เพิ่ม Layer ของภาพเดี่ยวที่เลือกมาลงบนแผนที่ เพื่อเปรียบเทียบ
// Map.addLayer(imageFromId, {
//   bands: ['B4', 'B3', 'B2'],
//   min: 0,
//   max: 0.3000
// }, 'Single Image from ID');

```
---
